things to do:
--------------------
marketing
    get iOS app reviews (new/updated) of latest version
    promote availability
        invite all forecast center pages to like my FB page
        get the integrated avalanche centers to share with their communities
            NWAC: asked Libby, she is talking to Benj; reposted Bruce's blog post
            SAC: posted on FB; going to hopefully put something on their website
            UAC: Bruce did a blog post; listed on website
            CAIC: reposted Bruce's blog post
            BTAC: Carol talking to Bob about where/how to put on website
            GNFAC: posted on their facebook page
            VIAC: communicated; listed on website
            CAC: asked about reposting Bruce's blog post, no response
            PC: Grant said they will repost Bruce's blog post
            WCMAC: posted on facebook
            SNFAC: made request
            ESAC: made request
            WB: made request
            IPAC: made request
            CNFAIC: Kevin said they will promote via social media
        send to ski areas
        send to avalanche class instructors
        send to professional avalanche organizations
            http://www.fsavalanche.org/
            http://www.americanavalancheassociation.org/publications.php
            http://www.americanavalancheinstitute.com/aai2/resources.php
            avalanche.org
            etc.
        send to ski/snowboard/backcountry mags/sites: 
            Powder Magazine (http://www.powdermag.com/) -- sent email to John Stifter, editor, 2012-12-20
            www.wildsnow.com -- emailed 2013-01-13
            http://www.backcountrymagazine.com/
            http://coastmountainculture.com/
            www.backcountryskiingcanada.com
            www.straightchuter.com
            www.notesfromtheneve.com
            www.biglines.com
            http://wasatchbackcountryskiing.com/
            http://www.sleddermag.com/
            www.alpinist.com
            http://www.skiwashington.com/   https://www.facebook.com/pages/Ski-Washington/282794856579  [FB page]
            www.snowmobilers.org
            Outside Magazine
            http://www.wta.org/
            http://americanalpineclub.org/
            http://www.rockandice.com/
            http://www.climbing.com/
            etc.
        other folks to send to
            http://www.alaskasnow.org/ (once i've integrated Alaska sites)
    Twitter
        deliver content
        do some posts mentioning included centers handles
        figure out hashtags to use
    Facebook
        deliver content
    sebnarware.com website
        add @aviforecast link
        partners page -- bottom bar sits on top of content
        add new VIACS logo
        phone layout
            fix bottom bar on top of content on narrow screen for partners page (set margin-bottom on container-fluid)
            fix title text size
        SEO
            on-page
            get inbound links
            check search results rankings in google, bing
        add a FAQ page?
        add nav bar?
    app store pages
        add screenshots showing US Rockies integrations and other newer areas
    use rivaliq ;-)
    review Uli's marketing guide for other steps to take
WS
    changes for the new season
        FAC
            2 other western polygons? 
            polygon name? 
            market -- add to partners, update text everywhere, twitter/facebook, etc. 
        CAC region changes (dropped Bighorn, added Yukon and Haute Gaspesie; other name and boundary changes; see email thread)
        GNFAC page load broken due to user-agent issue -- requested fix from them
        ESAC overhaul
            waiting on details from Andy
    waiting on or need to contact center
        [see Excel sheet]
    existing integrations: issues
        IPAC
            whole detailed page not loading due to relative paths in their HTML; asked them to fix the path for the header
            need a more consistent place to look to extract hazard level, via image links (then fix code and tests); very fragile right now;
                they are moving to new icons, Eric will send me the new naming and an example of use
    existing integrations: minor issues / enhancements
        CAIC/IPAC -- problem caching their web pages on android due to cache-control:no-store; working with them to address (for now, proxying their webpages)
        UAC -- would like to incorporate tomorrow forecast info too -- need to get it from them on a single page per region
    political
        review which centers are accredited or not, and handle appropriately
        Crested Butte, CO (CBAC): http://www.cbavalanchecenter.org/ -- NOTE this is within the CAIC Gunnison zone; based on email with CAIC, skip it for now
    internal
        figure out way to get usage stats per forecast center / region
        set up real (remote) git
        replace gzippo with express3 built-in compression
        wrap xml2js parsing in try/catch everywhere (like i did on cnfaic)
        update to current semantics (not 0.1.x) with xml2js
        fix use of config.js
        use HTML parsing library (cheerio) as opposed by regexs
        create server-oriented regions config file (for dataURL, parser, validation exceptions, etc.), to pull cases out of code
        deal with timezones in a rigorous way (forecasts expiring at a given time, etc.)
        capture all generated forecasts (for example, in S3)?
        further auto-validation of each generated forecast
            check and refine all current results
            add notion of class that is map only, no forecast parsing
            validate by time of day (e.g. forecast should be issued by 8am or whatever)
            have classes of validation (issued daily vs. irregularly, issued day before vs. morning of, etc.)
            on error, capture all inputs, and alert me
            also snapshot user URL vs. data URL vs. my forecast always, for later review
            add automatic, ongoing checks of HTML vs. API results for all api-based sites?
Android
    v1.2
        bugs and cleanup
            change to grey, instead of white, for the "no rating" color
            lifecycle management
                on rotation, don't reload anything
                clean up what happens at what phase of lifecycle
            remember last map position and zoom, and return to that on restart, instead of recentering? and add button to center/zoom map
            redo location services stuff to turn off gps after we have a first fix
            swap top and bottom bars
            update the usage text, from iOS version
            drop custom user agent string (test with NWAC and all other sites)
            bug to look at:
                ANR keyDispatchingTimedOut : com.sebnarware.avalanche/.DangerScaleActivity
                check developer portal for more details
            offline caching not working in all cases? (tests out fine on my phone and Adam's phone...)
        further map performance tuning
            investigate keeping path, and transforming via matrix to pan or scale
            split up path calc per OSM approach
                http://stackoverflow.com/questions/6630868/android-map-drawing-performance-1k-drawings
                http://code.google.com/p/osmdroid/source/browse/trunk/osmdroid-android/src/org/osmdroid/views/MapView.java?r=790
            simplify polygons (point thinning when zoomed out)
            consider creating my own overlay manager class, to unify top-level logic
        new features
            [see iOS list]
        low pri issues
            danger scale view should zoom to fill screen by default (based on orientation)
            title bar shows up in different colors on different android versions
            fix info icon within menu to use explicit resource, vs. system resource that looks different on each platform
                (tried it, but getting dark icon on dark background; so either leave it, or change one the icon color, or the background color)
            blue dot doesn't always show (even though map does position correctly) on Gingerbread; ok on ICS/JB
                test again with my revised FixedMyLocationOverlay, that always does the drawing
            in case of first time app use with no network, app must be shut down to try again once there is network
        for all external builds
            set version string appropriately
            be sure to build with production map key
            do signed export flow
iOS
    v1.6
        map usability
            remember last map position and zoom, and return to that on restart, instead of recentering? and add button to center/zoom map
            map zoom level is different on iPhone 5 device ... Apple responded and explained why, try tweaking settings to make it more consistent
            set a max zoom level
        other
            change to grey, instead of white, for the "no rating" color
            add loading spinner for detailed forecasts too
            drop custom user agent string (test with NWAC and all other sites)
            CAIC urls should be https at the top level, but RNCache only supports HTTP, investigate if its easy/hard to add HTTPS support too
            protect against null values for aviLevel in a forecast (even though this should never happen)
        info section
            change info button to bring up a table of topics (master/detail), not a pop-up
            add link to partners web page
            add info on human factors and decision making, using your brain -- find good reference
        sharing
            make it easy to share (virally) via facebook, twitter
            make it easy to start following Avalanche Forecasts on facebook
    v2
        status bar (or pop-ups of some sort?)
            add status bar with current operation (loading regions, reloading forecasts, forecast last updated xxx ago, read from offline cache, etc.)?
                need to think through how to handle multiple messages, no messages, etc.
            add alert/feedback if there are no avalanche forecast regions near your current position
            add forecasts last fetched time (need to pull from cache or persist, for offline case) (System Font size 13; label height 18)?
        offline mode improvements
            say when cached data is being used
            offline: give message if detailed view unavailable for a region
            really stale detailed forecast content can stay in persistent cache... 
                address by not showing content if forecasts for that region is already out of date?
                flag the detailed forecast page if the forecast is a day or more out of date? (from discussion from Bruce T)
            say when data was cached, for every page?
    v3
        add system message capability, to send dynamic messages to users (e.g. problem with forecast center X; forecast center Y added; etc.)
        more data at-a-glance
            show the danger stack (elevation view) as an icon or popup on the map too within each region?
            click on a region to bring up "selected details" intermediate level of display, driven by the Today/Tomorrow/2DaysOut buttons?
            label regions with their names? give them a danger level icon?
        cache regions.json persistently in app, for performance? (as file is large, and growing) -- probably not needed after digit compression
            do a lightweight validity check to see if file update is necessary (still important to keep dynamic region file updates, e.g. if URL changes)
            note that every time i push to heroku, the file timestamp is updated, so ETag or hash might be better than if-modified-since
            see for ideas: http://iphoneincubator.com/blog/server-communication/how-to-download-a-file-only-if-it-has-been-updated
            store where it cannot be erased by iOS (separate from other cache)
            could implement as a customer NSURLProtocolHandler, in front of the other one
            load new file before proceeding
            make sure i handle both the offline and online cases
            preload cache at app install
            get rid of special no regions.json alert path, if no longer needed
            OR... use a software update style model instead? (never block user waiting for download...
                although investigate what happens to network ops if the app loses focus
            reload regions.json periodically in app (for case where people don't restart the app/phone regularly)
        make iPad experience better (user request)
        full height launch screen for iPhone5 (no black bars)
        feature to put in a place name, and have the map jump there; and/or have a "favorite place" you can register?
        add a "help your avalanche center" feature to take you to donation pages?
        add more avi reference info?
        add weather info?
        add telemetry info?
        show previous days, for history? allow selecting further into the future?
        add push notifications?
        get app rotation working in all views (or at least danger scale definition view)?


postgis shape simplification
--------------------

first, in the "postgis" database:
set search_path to public;

check number of points output:
SELECT ST_NPoints(ST_SimplifyPreserveTopology(ST_GeomFromKML('
KML_fragment_here
		'), 0.01));

get KML:
SELECT ST_AsKML(ST_SimplifyPreserveTopology(ST_GeomFromKML('
KML_fragment_here
		'), 0.01));


avalanche forecast center intro/integration blurb:
--------------------
[Avalanche Forecasts mobile app integration]

Hello,

I recently developed a free avalanche forecasts mobile app, and I'd like to get your forecast center integrated.

The app, which is available for both iPhone and Android, displays avalanche conditions "at-a-glance", across multiple forecasting centers. My goal is to make avalanche forecasts more readily accessible to folks heading out into the backcountry. Bottom-line danger levels are shown color-coded for each forecast region on a map (following the standard North American danger scale), based on the selected timeframe (Today/Tomorrow/2 Days Out). Clicking on any region brings up the detailed avalanche forecast from the source forecasting center. All content is cached for offline use, so you can refer back to the information you've seen even if you lose coverage in the mountains.

I currently have it integrated with the NWAC, SAC, ESAC, CAIC, UAC, BTAC, GNFAC, WCMAC, SNFAC, IPAC, CNFAIC, CAC, Parks Canada, WhistlerBlackcomb, and VIAC forecasting centers. I'd like to eventually include all the avalanche forecasting centers across North America.

You can view screenshots, etc. and download the app here: http://avalancheforecasts.com/

In order to integrate technically, there are two elements i'll need. Usually this is a small amount of work for you. 
1) forecast region definitions: do you have a KMZ/KML file that describes the borders of each of your forecast regions? If not, i can work with you to create this.
2) forecast data: to color the map regions appropriately, i need a way for my software to get the overall hazard level (low/moderate/considerable/high/extreme) and associated valid date(s). Do you have a CAAML feed or other data API that i can use to pull forecast information? Alternatively I can extract the forecast information by parsing your web page HTML or RSS feed if you have one. If we go the HTML/RSS route, we'll want to agree on exactly what sections of the forecast text i should have the software look in to extract these values, to make the integration as robust as possible.

Would you please connect me with your technical point of contact? 

Thanks for your help!

Seth
206-553-9420

ps: A word on my motivations: i'm doing this project as a pro bono service to the outdoors community, because i feel getting the avalanche forecast information out there broadly, consistently, and in an easy-to-consume fashion is so important. Plus its a fun project!



get the word out blurb:
--------------------
[Avalanche Forecasts mobile app]

I recently developed a free avalanche forecasts mobile app as a pro bono project, and I'd like to ask your help to spread the word more broadly about this app within the backcountry community. 

The app, which is available free for both iPhone and Android, displays avalanche conditions "at-a-glance", across multiple forecasting centers. Bottom-line danger levels are shown color-coded for each forecast region on a map. Clicking on any region brings up the detailed avalanche forecast from the source forecasting center. All content is cached for offline use, so you can refer back to the information you've seen even if you lose coverage in the mountains. 

I currently have integrated with the NWAC (Northwest US), SAC (central Sierras), ESAC (Eastern Sierras), CAIC (Colorado), UAC (Utah), BTAC (Jackson Hole), GNFAC (Bozeman), WCMAC (Missoula), SNFAC (Sun Valley), IPAC (Idaho Panhandle), CNFAIC (Chugach), CAC (Canada), Parks Canada, WhistlerBlackcomb, and VIAC (Vancouver Island) forecasting centers. My goal over time is to eventually include all the avalanche forecasting centers across North America.

You can view screenshots, etc. and download the app here: http://avalancheforecasts.com/  

Thanks for your help!

Seth
206-553-9420

ps: A word on my motivations: i'm doing this project as a pro bono service to the outdoors community, because i feel getting the avalanche forecast information out there broadly, consistently, and in an easy-to-consume fashion is so important. Plus its a fun project!





Avalanche Forecasts mobile app: preseason check-in

Hi XXX, 

I hope you had a great summer. The snow is beginning to fly, so i'm reaching out to re-connect in preparation for the upcoming avalanche forecasting season. 

I'd like to check if you are making any changes to your region definitions or your forecast format, or if there is anything else that i should be aware of so that our integration operates smoothly. 

Looking forward to working together again this winter. 

Thanks!
Seth

Avalanche Forecasts app:
Website: http://avalancheforecasts.com/
Facebook: http://www.facebook.com/AvalancheForecasts
Twitter: @aviforecast



